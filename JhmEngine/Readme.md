## Folder structure

- TS: Contains source typescript files. This is the development folder
- JS: Contains javascript files built by the typescript transpiler. These files can be consumed directly by an HTML document, but are also bundled by the build script into one file.
- Out: The final build, contains files generated by running 'python Build.py'. THe output consists of two parts: One bundled javascript file with the project, and one folder with typescript declaration files.

## File relations
This project does not make any use of javascript bundles, which allows it to be used from simple local HTML files directly. Dependencies are still considered in scripts: each script may be dependent only on other scripts in the same folder, or any scripts in parent folders. Scripts should never have dependencies on sibling or child folders, as that is liable to cause missing dependency errors in the final bundled script.

## Build.py and bundling

The Build.py script does two things: It runs typescript transpilation and bundles the resulting scripts into one javascript file. 

Bundling is done by simply iterating through each file in the Js folder, reading its contents, and outputting it into Out/JhmEngine.js. Files are read in alphabetical order starting at the root, top-down.  
When bundling, dependencies are resolved using a very simple system: dependencies are declared in the first line of a script, using a commented line with the line: '// Dependencies: ' followed by the names of any files with dependencies. For example, the RotatedSprite script has a dependency on Sprite, declared with the line '// Dependencies: Sprite'. Files that are read before their dependencies will be stored until the other files in the folder has been read and processed then, ensuring that the resulting bundles file will declare dependencies before their dependants. The file structure of the project means that dependencies only need to be declared for files located in the dependents own folder, as any parent folders would have been processed before anyway.
